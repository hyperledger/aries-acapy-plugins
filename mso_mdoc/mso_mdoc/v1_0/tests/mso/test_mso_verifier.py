import pytest
from unittest.mock import patch
from aiohttp import web

from aries_cloudagent.admin.request_context import AdminRequestContext
from aries_cloudagent.core.profile import Profile
from mso_mdoc.v1_0 import routes as test_module


@pytest.mark.asyncio
async def test_mdoc_sign(context: AdminRequestContext, req: web.Request):
    """Test mdoc_sign endpoint."""


@pytest.mark.asyncio
async def test_mdoc_verify(context: AdminRequestContext, req: web.Request):
    """Test mdoc_verify endpoint."""
    payload = {
        "mso_mdoc": "a36776657273696f6e63312e3069646f63756d656e747381a267646f6354797065756f72672e69736f2e31383031332e352e312e6d444c6c6973737565725369676e6564a26a6e616d65537061636573a1716f72672e69736f2e31383031332e352e3189d818a100a4686469676573744944006672616e646f6d58202ead3d6042ff7612a6017cb3ec28d5540a39c18d7ea0fd92bda69035b7ed04d071656c656d656e744964656e7469666965726f646f63756d656e745f6e756d6265726c656c656d656e7456616c756569585831323334353637d818a101a4686469676573744944016672616e646f6d5820c9a49094778bc91a9d43386549f2ffa5afed24cef1c8ee98a8f52211134dbcbe71656c656d656e744964656e7469666965726b66616d696c795f6e616d656c656c656d656e7456616c756565526f737369d818a102a4686469676573744944026672616e646f6d5820fe0a07535fe2bad913f31cd97931ca743e76d003ed0a58b7c204408f4f90ddc371656c656d656e744964656e7469666965726a676976656e5f6e616d656c656c656d656e7456616c7565654d6172696fd818a103a4686469676573744944036672616e646f6d582093df143653ed73c13607e161de7e47b6a467e27b96ba217e7d0afa31d5baa4b371656c656d656e744964656e7469666965726b6578706972795f646174656c656c656d656e7456616c7565d903ec6a323032342d30322d3232d818a104a4686469676573744944046672616e646f6d58207e3dcc56c8a21b4d0cc41d6d36fa58fd4191c72e2b017fdf0596006922ccf8d771656c656d656e744964656e74696669657276756e5f64697374696e6775697368696e675f7369676e6c656c656d656e7456616c75656149d818a105a4686469676573744944056672616e646f6d58208d41af02576f666c5d96d7faaab7b827aa93db22ffebbfa6c17b7d9bd1f40ec871656c656d656e744964656e7469666965726a62697274685f646174656c656c656d656e7456616c7565d903ec6a313935362d30312d3132d818a106a4686469676573744944066672616e646f6d58203e5a515af4be44eff7d80574367171588ee68646742a31f67b7b380fa9aee44471656c656d656e744964656e7469666965726f69737375696e675f636f756e7472796c656c656d656e7456616c7565624954d818a107a4686469676573744944076672616e646f6d5820798b9a9034454e277d4bc224a9fb13ad4ceda3af48cd7d3e1b25df047f7eb19271656c656d656e744964656e7469666965726a69737375655f646174656c656c656d656e7456616c7565d903ec6a323032332d31312d3134d818a108a4686469676573744944086672616e646f6d5820fe0d238e1390942976f150985527baa7f161cf65abd8f2223420f997cac78e1a71656c656d656e744964656e7469666965727169737375696e675f617574686f726974796c656c656d656e7456616c756577476c6920616d6963692064656c6c612053616c617269616a697373756572417574685904a2d28459012da30127045820e10358c4c928fbe4dd63763e29e7413c3ac0525672b6817dd6f6eeccbdb9c3df18215901023081ff3081b2a0030201020214305edb5413cc78c55f85e3dc9ddfe49ae6f09e3a300506032b65703020310b300906035504061302434e3111300f06035504030c084c6f63616c204341301e170d3234303232313232343834385a170d3234303330323232343834385a3020310b300906035504061302434e3111300f06035504030c084c6f63616c204341302a300506032b657003210071abc7f355fdea340bf2f8f781b2d0064784ee9f5cc95bbc309702e4dea55ce5300506032b65700341008747b9d29a37566a63c294c00ebc73e283b6615c11e99ecace640a9c0bd31126dc3f8195715baa6c89aa0455d2fee107610f8735e06941ddcb3c3aa98a6c8708a118215901023081ff3081b2a0030201020214305edb5413cc78c55f85e3dc9ddfe49ae6f09e3a300506032b65703020310b300906035504061302434e3111300f06035504030c084c6f63616c204341301e170d3234303232313232343834385a170d3234303330323232343834385a3020310b300906035504061302434e3111300f06035504030c084c6f63616c204341302a300506032b657003210071abc7f355fdea340bf2f8f781b2d0064784ee9f5cc95bbc309702e4dea55ce5300506032b65700341008747b9d29a37566a63c294c00ebc73e283b6615c11e99ecace640a9c0bd31126dc3f8195715baa6c89aa0455d2fee107610f8735e06941ddcb3c3aa98a6c8708590223a66776657273696f6e63312e306f646967657374416c676f726974686d667368613235366c76616c756544696765737473a1716f72672e69736f2e31383031332e352e31a9005820c64bc807ca0f0f76859a9da2dcc2c2fbcd51f88aecb413c3551e3db455c1404c0158203e430f9b9bc988469213e359b9d23e0b61def4b120e3025caeb1d696402fa63e025820e2c5a520e54948bae76db7afd88e74f65c4366bf7006c9357435dc9a179f3eab035820c46bcdbb705bbfd93a4cf9b32ff25b7bafc0656151e1ef52581982d10b965db10458201894a60f58b4e43dc5ec6705b09ed897ec8246ae562599d4b400065fecccfc990558205b023e1a2546618e46e3eb397c9178b2e188317041c8972b70c746277b0ab07e0658203d8e3ad4536c7a214080bd20b4fee38387f3f2708e46615c06573641f4abf4f9075820efd6985eda828d32829e1ecaeb50bc7c4de5a2aa082d89963a6943a2ceb357a80858203ba2c86a2a3a7e2bf13fd600abacc8a543e8168bb40ca719c864e2604df416816d6465766963654b6579496e666fa1696465766963654b6579f667646f6354797065716f72672e69736f2e31383031332e352e316c76616c6964697479496e666fa3667369676e656456c074323032342d30322d32315432323a34383a34385a6976616c696446726f6d56c074323032342d30322d32315432323a34383a34385a6a76616c6964556e74696c56c074323032352d30322d32305432323a34383a34385a58400a43dd52146f959ae94b50e5d8644e500607a9f077b7fc9f506a8491c8447cee954af67d30fc31cf14ed854b9c1cc3cf350e4260781f2ca07b7f706609e1840a6673746174757300"
    }
    result = await test_module.mdoc_verify(payload)
    assert result.verified
